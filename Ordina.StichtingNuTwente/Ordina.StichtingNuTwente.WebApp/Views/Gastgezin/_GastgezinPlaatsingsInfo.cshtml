@using Ordina.StichtingNuTwente.Models.ViewModels
@model GastgezinPlaatsingsInfoPartial

<tr class="hide hidden @(Model.Index%2==0?"dark-row":"")" id="@Model.Index">
    <td colspan="@Model.Columns">
        <div class="row" style="margin:0px;padding:0px;">
            @if (Model.PlaatsingsInfo != null)
            {
                <div class="row row-cols-2">
                    <div class="col">
                        <div class="col"><b>Kleine kinderen:</b> @Model.PlaatsingsInfo?.KleineKinderen</div>
                        <div class="col"><b>Volwassenen en grotere kinderen:</b> @Model.PlaatsingsInfo?.VolwassenenGrotereKinderen </div>
                        <div class="col"><b>Slaapkamer ruimte:</b> @Model.PlaatsingsInfo?.SlaapkamerRuimte</div>
                        <div class="col"><b>Privacy:</b> @Model.PlaatsingsInfo?.Privacy</div>
                        <div class="col"><b>Opbergruimte:</b> @Model.PlaatsingsInfo?.Opbergruimte</div>
                        <div class="col"><b>Faciliteiten:</b> @Model.PlaatsingsInfo?.Faciliteiten?.Replace(",", ", ").Replace(";", ", ")</div>
                        <div class="col"><b>Zelf koken:</b> @Model.PlaatsingsInfo?.ZelfKoken </div>
                        <div class="col"><b>Daglicht slaapkamer:</b> @Model.PlaatsingsInfo?.DaglichtSlaapkamer</div>
                        <div class="col"><b>Roken:</b> @Model.PlaatsingsInfo?.Roken</div>
                    </div>
                    <div class="col">
                        <div class="col"><b>Gezinssamenstelling</b> @Model.PlaatsingsInfo?.GezinsSamenstelling</div>
                        <div class="col"><b>Veilige opbergplaats:</b> @Model.PlaatsingsInfo?.VeiligeOpbergruimte</div>
                        <div class="col"><b>Huisdieren aanwezig:</b> @Model.PlaatsingsInfo?.HuisdierenAanwezig</div>
                        <div class="col"><b>Bezwaar tegen huisdieren:</b> @Model.PlaatsingsInfo?.HuisdierenMogelijk</div>
                        <div class="col"><b>Allergieën:</b> @Model.PlaatsingsInfo?.Allergieen</div>
                        <div class="col"><b>Vluchteling ophalen:</b> @Model.PlaatsingsInfo?.VluchtelingOphalen</div>
                        <div class="col"><b>Basisscholen:</b> @Model.PlaatsingsInfo?.BasisscholenAanwezig</div>
                        <div class="col"><b>Koelkast:</b> @Model.PlaatsingsInfo?.KoelkastRuimte</div>
                        <div class="col"><b>Beperkingen:</b> @Model.PlaatsingsInfo?.Beperkingen</div>
                    </div>
                    <div class="col-12"><b>Vragen of opmerkingen: </b> @Model.PlaatsingsInfo?.OverigeOpmerkingen</div>
                </div>
            }
            <div class="col-12"><p><b>Notities:</b> <br /> @Model.Notities</p> </div>
            @if (Model.GastgezinId > 0)
            {
                <div class="form-group col-12">
                    <label for="comments-@Model.GastgezinId">Opmerkingen</label>
                    <textarea class="form-control" id="comments-@Model.GastgezinId" rows="3"> @Model.VrijwilligerOpmerking</textarea>
                </div>
                <div class="form-group col-1">
                    <button id="comments-save-@Model.GastgezinId" class="btn btn-primary">Opslaan</button>
                </div>
            }
        </div>
    </td>
</tr>

<script>
    $("#comments-save-@Model.GastgezinId").on("click", function (){
        let comments = $("#comments-@Model.GastgezinId").val();
        if(!comments) comments = "";
        let id = @Model.GastgezinId;
        $.ajax({
            url: "/Gastgezin/UpdateCommentVrijwilliger",
            type: "POST",
            dataType: 'text',
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            data: {"comments":comments, "gastgezinId":id},
            success: function(){
                location.reload();
            },
            error: function() {
                window.location = "/Error";
            }
        });
    })
</script>